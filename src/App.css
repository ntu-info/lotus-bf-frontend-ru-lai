/* App.css baseline (hoverless look is enforced inline in App.jsx too) */
:root {
  /* Light-mode defaults: light background and dark text */
  --bg: #ffffff;
  --fg: #0b0b0b; /* keep main text black */
  --muted: #4b5563;
  --border: #e6edf8;
  --radius: 12px;
  --primary-600: #0f766e; /* teal - professional */
  --primary-500: #0d9488;
  --accent: #0b7285; /* muted teal/sea */
  /* Deeper tech palette variants (used for hover/shadows) */
  --primary-700: #053146; /* deep teal-blue */
  --primary-400: #12919f;
  --card-shadow: 0 8px 20px rgba(15,23,42,0.06);
  --btn-font-size: 13px;
  --btn-py: 8px;
  --btn-px: 12px;
  --btn-radius: 10px;
  /* Query input (professional theme) - light mode */
  --qb-bg: #ffffff;
  --qb-border: #d1d5db;
  --qb-text: #0b0b0b;
  --qb-placeholder: #6b7280;
  --qb-focus-ring: rgba(37,99,235,0.18);
}

* { box-sizing: border-box; }
html, body, #root { height: 100%; }
body {
  margin: 0;
  background: var(--bg);
  color: var(--fg);
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans", "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
}

.app {
  max-width: none;
  margin: 0;
  padding: 18px 0 18px 18px;
}

/* Dark theme overrides */
.theme-dark {
  /* Deeper/darker variant for actual dark mode */
  --bg: #071025; /* deep navy black */
  --fg: #e6eef8; /* title/subtitle color stays light when forced */
  --muted: #9aa8bd;
  --border: rgba(255,255,255,0.06);
  --primary-600: #66d9cc;
  --primary-500: #34b3a9;
  --primary-700: #053146;
  --primary-400: #12919f;
  --card-shadow: 0 10px 30px rgba(2,6,10,0.75);
  /* Query input colors for dark mode (professional muted tones) */
  --qb-bg: #0f1724;
  --qb-border: #1f2937;
  --qb-text: #e6eef8;
  --qb-placeholder: #9aa8bd;
  --qb-focus-ring: rgba(96,165,250,0.16);
}

/* User requested: in dark mode, keep the title/subtitle light but make other body text dark/black for contrast */
.theme-dark .app__title, .theme-dark .app__subtitle {
  color: var(--fg) !important; /* keep title and subtitle light */
}

/* In dark mode, render main content text black as requested */
.theme-dark, .theme-dark .card, .theme-dark .card * { color: #0b0b0b !important; }

/* Exception: make NiiViewer Threshold bar labels/controls white in dark mode */
.theme-dark .niiviewer-controls .threshold-row.bar-black .niilabel,
.theme-dark .niiviewer-controls .threshold-row.bar-black select,
.theme-dark .niiviewer-controls .threshold-row.bar-black input[type='number'] {
  color: #ffffff !important;
}
.theme-dark .niiviewer-controls .threshold-row.bar-black option {
  color: #111111 !important; /* dropdown list items stay readable on white popup */
  background: #ffffff !important;
}

/* Optional explicit light theme hook */
.theme-light { background: var(--bg); color: var(--fg); }

/* Remove forced universal black text so themes can invert */
/* Define a card background token so we can swap in dark mode */
:root { --card-bg: linear-gradient(180deg, #ffffff, #fbfdff); }
.card { background: var(--card-bg); }
.theme-dark { background-color: var(--bg); }
.theme-dark { --card-bg: linear-gradient(180deg,#0f1724,#09121f); }
.theme-dark .card { color: var(--fg); border: 1px solid rgba(255,255,255,0.06); box-shadow: 0 10px 28px rgba(2,10,22,0.55); }

/* smooth color transitions when toggling theme */
.app, .card, body {
  transition: background-color 220ms ease, color 220ms ease;
}

.app__header { margin-bottom: 14px; }
.app__title { margin: 0; font-size: 26px; font-weight: 800; letter-spacing: .2px; }
.app__subtitle { margin-top: 6px; color: var(--muted); font-size: 14px; max-width: 48ch; }

.app__subtitle-line { display: block; line-height: 1.05; }
.app__subtitle-line + .app__subtitle-line { margin-top: 2px; }

/* Header layout: logo on far left, title/subtitle to the right */
.app__header { display: flex; align-items: center; justify-content: space-between; gap: 20px; }
.app__header-left { display: flex; align-items: center; gap: 20px; }
.app__logo-img { width: 100px; height: auto; object-fit: contain; border-radius: 6px; }
.app__title-block { display: flex; flex-direction: column; align-items: flex-start; margin-left: 8px; }

/* Keep title styling the same (weight/color/size preserved) */
.app__title { font-weight: 800; color: var(--fg); font-size: 24px; }

/* Responsive: stack logo above text on small screens */
@media (max-width: 768px) {
  .app__header { flex-direction: column; align-items: center; text-align: center; }
  .app__header-left { flex-direction: column; gap: 8px; }
  .app__title-block { align-items: center; }
  .app__subtitle { max-width: 100%; }
  .app__subtitle-line { text-align: center; }
  .app__logo-img { width: 88px; }
}

/* Slightly larger title for dashboard feel */
.app__title { font-size: 24px; letter-spacing: .4px }

.app__grid { display: flex; gap: 0; width: 100%; }
.app__grid > .card { flex: 1 1 0; min-width: 240px; overflow: auto; }

/* When viewer is focused, emphasize it visually */
.viewer-focused { position: relative; box-shadow: 0 20px 60px rgba(0,0,0,0.35); transform: translateY(-6px); z-index: 20; }
.viewer-focused .niiviewer-card { border: 2px solid rgba(96,165,250,0.18); box-shadow: 0 30px 60px rgba(2,6,23,0.32); }
.viewer-focused .niiviewer-card canvas { outline: 3px solid rgba(96,165,250,0.08); }

.studies-focused { border: 2px solid rgba(34,197,94,0.18); box-shadow: 0 18px 40px rgba(2,6,23,0.12); }
.studies-focused .card__title { color: rgba(34,197,94,0.95); }

.resizer { width: 8px; cursor: col-resize; position: relative; user-select: none; touch-action: none; align-self: stretch; background: transparent; }
.resizer::after { content:''; position:absolute; top:12px; bottom:12px; left:3px; width:2px; background: linear-gradient(180deg, rgba(0,0,0,0.06), rgba(0,0,0,0.02)); border-radius:2px; }
.resizer:hover::after { background: linear-gradient(180deg, rgba(0,0,0,0.12), rgba(0,0,0,0.04)); }

.card { background: linear-gradient(180deg, #ffffff, #fbfdff); border: 1px solid rgba(34,67,120,0.04); border-radius: var(--radius); padding:14px; box-shadow: var(--card-shadow); }
.card__title { font-weight:700; margin-bottom:12px; color: var(--fg); }
/* Section titles follow fg color now (remove forced black) */
.terms .card__title, .studies .card__title, .niiviewer .card__title, .qb .card__title { color: var(--fg) !important; }
.card--stack > .divider { height:1px; background:var(--border); margin:12px 0; }

.hint { margin-top: 8px; color: var(--muted); font-size: 12px; }
.hint__code { background:#f3f4f6; padding:2px 6px; border-radius:8px; }

/* Downsized buttons (no hover/active change) */
button, .btn, [role="button"], .button {
  background: linear-gradient(180deg, var(--primary-700), var(--primary-600));
  color:#ffffff;
  border:none;
  border-radius: calc(var(--btn-radius) - 2px);
  padding: var(--btn-py) var(--btn-px);
  font-weight:700;
  font-size: var(--btn-font-size);
  line-height:1.1;
  cursor:pointer;
  box-shadow: 0 8px 22px rgba(3,22,48,0.18), inset 0 -4px 10px rgba(0,0,0,0.06);
  transition: transform 140ms ease, box-shadow 140ms ease, background-color 140ms ease;
}
button:hover, .btn:hover, [role="button"]:hover, .button:hover {
  transform: translateY(-2px);
  box-shadow: 0 14px 40px rgba(3,22,48,0.22), inset 0 -4px 14px rgba(0,0,0,0.08);
  background: linear-gradient(180deg, var(--primary-600), var(--primary-500));
}
button:active, .btn:active, [role="button"]:active, .button:active {
  transform: translateY(0);
  box-shadow: 0 6px 12px rgba(3,22,48,0.12);
}
button:disabled, .btn:disabled { opacity:.55; cursor:not-allowed; }

.card input[type="text"],
.card input[type="search"],
.card input[type="number"],
.card select,
.card textarea { width:100%; max-width:100%; display:block; }

/* Sliders and controls - modern look */
input[type=range] {
  appearance: none;
  -webkit-appearance: none;
  width: 100%;
  height: 6px;
  background: linear-gradient(90deg, rgba(37,99,235,0.15), rgba(37,99,235,0.05));
  border-radius: 999px;
}
/* Operator buttons used in QueryBuilder (AND/OR/NOT/Reset) */
.operator-btn {
  background: linear-gradient(180deg, var(--primary-700), var(--primary-600));
  border: 1px solid rgba(8,77,94,0.14);
  color: #eaf7f8;
  font-weight: 800;
  border-radius: 10px;
  box-shadow: 0 10px 28px rgba(4,36,57,0.16), inset 0 -3px 8px rgba(0,0,0,0.06);
  transition: transform 120ms ease, box-shadow 120ms ease, background-color 120ms ease, text-shadow 120ms ease;
}
.operator-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 18px 46px rgba(4,36,57,0.22);
  background: linear-gradient(180deg, var(--primary-600), var(--primary-500));
  text-shadow: 0 1px 0 rgba(0,0,0,0.15);
}
.operator-btn:active { transform: translateY(0); box-shadow: 0 8px 18px rgba(4,36,57,0.12); }

.qb .operator-btn + .operator-btn { margin-left: 6px; }
input[type=range]::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 16px; height: 16px; border-radius: 50%; background: #fff; border: 3px solid var(--primary-600);
  box-shadow: 0 4px 8px rgba(31,111,235,0.18);
}
input[type=range]:focus { outline: none; }

/* NiiViewer canvas card subtle style */
.niiviewer-card { background: linear-gradient(180deg,#ffffff,#f7fbff); border-radius: 10px; padding: 10px; border: 1px solid rgba(34,67,120,0.04); }

/* Polished Threshold controls for NiiViewer */
.niiviewer-controls {
  background: linear-gradient(180deg, rgba(250,252,255,0.6), rgba(244,247,251,0.45));
  border-radius: 10px;
  padding: 12px;
  border: 1px solid rgba(15,23,42,0.04);
  box-shadow: 0 6px 18px rgba(2,6,23,0.04);
}
.niiviewer-controls .threshold-row {
  display: flex;
  gap: 12px;
  align-items: center;
  flex-wrap: wrap;
}
.niiviewer-controls label.niilabel {
  display: flex;
  align-items: center;
  gap: 8px;
  color: var(--muted);
  font-weight: 600;
  font-size: 13px;
  min-width: 140px; /* keeps labels aligned */
}
.niiviewer-controls .controls--modern {
  display: flex;
  gap: 12px;
  align-items: center;
}
.niiviewer-controls .controls--field {
  display: flex;
  align-items: center;
  gap: 8px;
  background: var(--qb-bg, #ffffff);
  border: 1px solid var(--qb-border, #d1d5db);
  padding: 6px 8px;
  border-radius: 8px; /* rounded-md feel */
  box-shadow: 0 6px 14px rgba(2,6,23,0.04);
}
.niiviewer-controls .threshold-row.bar-black {
  /* Softer layered dark bar so controls remain prominent */
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.42));
  padding: 12px 14px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.04);
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.02), 0 10px 24px rgba(2,6,23,0.28);
  backdrop-filter: saturate(110%) blur(2px);
}
.niiviewer-controls .threshold-row.bar-black label,
.niiviewer-controls .threshold-row.bar-black .controls--field {
  background: transparent;
  border: none;
  box-shadow: none;
}
.niiviewer-controls .threshold-row.bar-black .niilabel { color: rgba(230,238,248,0.98); }
.niiviewer-controls .threshold-row.bar-black select,
.niiviewer-controls .threshold-row.bar-black input[type='number'] {
  color: rgba(230,238,248,0.98);
  background: transparent;
}

/* Make the field boxes inside the threshold row slightly translucent to lift them */
.niiviewer-controls .threshold-row.bar-black .controls--field {
  background: rgba(255,255,255,0.02);
  border: 1px solid rgba(255,255,255,0.06);
  padding: 8px 10px;
  border-radius: 10px;
  box-shadow: 0 6px 16px rgba(2,6,23,0.12);
}
/* select options are hard to style cross-browser, but set the optgroup/option color where supported */
.niiviewer-controls .threshold-row.bar-black option { color: #111111; background: #ffffff; }

/* Dark control panel: deep background, white text, soft glow on focus */

/* Capsule control style (reusable): rounded, subtle shadow, adaptable background via --qb-bg */
.controls--capsule {
  background: var(--qb-bg, #0f1724);
  border: 1px solid rgba(255,255,255,0.06);
  border-radius: 12px;
  padding: 8px;
  box-shadow: 0 8px 20px rgba(2,6,23,0.12);
}
.controls--capsule .controls--field {
  background: transparent;
  border: 1px solid rgba(255,255,255,0.04);
  box-shadow: 0 6px 14px rgba(2,6,23,0.06);
}
.controls--capsule select,
.controls--capsule input[type='number'],
.controls--capsule input[type='text'],
.controls--capsule .terms .input {
  color: var(--qb-text, #e6eef8);
  background: transparent;
  border: none;
}
.controls--capsule ::placeholder { color: rgba(230,238,248,0.7); }
.controls--capsule select:focus,
.controls--capsule input[type='number']:focus,
.controls--capsule input[type='text']:focus {
  outline: none;
  box-shadow: 0 10px 30px rgba(37,99,235,0.18);
  border-color: rgba(96,165,250,0.9);
}
.controls--capsule .niilabel { color: rgba(230,238,248,0.96); font-weight:600 }

/* keep a separate bar-black utility for only the threshold row when desired */
.niiviewer-controls .threshold-row.bar-black {
  background: #0b0b0b;
  padding: 8px 10px;
  border-radius: 10px;
}
.niiviewer-controls .threshold-row.bar-black label,
.niiviewer-controls .threshold-row.bar-black .controls--field {
  background: transparent;
  border: none;
  box-shadow: none;
}
.niiviewer-controls .threshold-row.bar-black .niilabel { color: #ffffff; }
.niiviewer-controls .threshold-row.bar-black select,
.niiviewer-controls .threshold-row.bar-black input[type='number'] {
  color: #ffffff;
  background: transparent;
}
.niiviewer-controls select,
.niiviewer-controls input[type='number'] {
  height: 36px;
  line-height: 1;
  padding: 6px 8px;
  border-radius: 8px;
  border: none;
  background: transparent;
  color: var(--qb-text, #0b0b0b);
  font-size: 14px;
}
.niiviewer-controls input[type='number'] { width: 110px; }
.niiviewer-controls input[type='number'] { width: 110px; }
.niiviewer-controls .small-input { width: 84px; }
.niiviewer-controls select:focus,
.niiviewer-controls input[type='number']:focus {
  outline: none;
  border-color: var(--primary-600);
  box-shadow: 0 6px 18px var(--qb-focus-ring, rgba(37,99,235,0.12));
}
.niiviewer-controls .hint { color: var(--muted); font-size: 12px; margin-left: 4px; }

/* Modern controls used by Terms search and threshold rows */
.controls--modern .label {
  font-size: 13px;
  color: var(--muted);
  font-weight: 600;
}
.controls--modern .field {
  background: var(--qb-bg, #ffffff);
  border: 1px solid var(--qb-border, #d1d5db);
  padding: 6px 8px;
  border-radius: 8px;
  box-shadow: 0 6px 14px rgba(2,6,23,0.04);
  height: 36px;
  display: flex;
  align-items: center;
}
.terms .input, .terms input[type='search'], .terms input[type='text'] {
  border: 1px solid var(--qb-border);
  background: var(--qb-bg);
  color: var(--qb-text);
  padding: 6px 10px;
  border-radius: 8px;
  box-shadow: 0 6px 14px rgba(2,6,23,0.04);
  height: 36px;
}

/* Make sure controls align nicely on smaller screens */
@media (max-width: 768px) {
  .niiviewer-controls .controls--modern { flex-direction: column; align-items: stretch; }
  .niiviewer-controls label.niilabel { min-width: auto; }
  .terms .input { width: 100%; }
}

/* Terms accordion transitions */
.terms__panel {
  overflow: hidden;
  transition: max-height 260ms cubic-bezier(.2,.9,.2,1), opacity 180ms ease;
  max-height: 0;
  opacity: 0;
}
.terms__panel.open {
  max-height: 1200px; /* large enough for content; transition will animate */
  opacity: 1;
}

.terms__alphabet-grid > div { display: flex; flex-direction: column; align-items: center; }

/* Stacked alphabet buttons: letter above, count below */
.terms__alpha-button {
  display: inline-flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 4px;
  padding: 8px 10px;
  border-radius: 10px;
  border: 1px solid rgba(34,67,120,0.06);
  background: var(--bg, #fff);
  min-width: 48px;
  height: 56px;
  cursor: pointer;
  transition: background-color 160ms ease, transform 120ms ease, box-shadow 160ms ease;
}

/* refined alphabet button visuals */
.terms__alpha-button {
  display: inline-flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 6px;
  padding: 8px 10px;
  border-radius: 12px;
  border: 1px solid rgba(17,24,39,0.06);
  background: var(--card-bg, #ffffff);
  min-width: 52px;
  height: 64px;
  cursor: pointer;
  transition: background-color 160ms ease, transform 120ms ease, box-shadow 160ms ease, border-color 160ms ease;
}
.terms__alpha-button:hover { transform: translateY(-3px); box-shadow: 0 10px 26px rgba(15,23,42,0.08); }
.terms__alpha-button.open { background: linear-gradient(180deg,#f3f6f9,#eef4fb); border-color: rgba(34,67,120,0.14); }
.terms__alpha-letter { font-size: 18px; font-weight: 800; line-height: 1; color: var(--fg, #0b0b0b); letter-spacing: 0.6px }
.terms__alpha-count { font-size: 12px; color: var(--muted); line-height: 1; }
.terms__alpha-count.badge {
  display: inline-flex; align-items: center; justify-content: center;
  min-width: 26px; height: 20px; padding: 0 6px; border-radius: 10px;
  background: rgba(15,23,42,0.04); color: var(--muted); font-weight:600; font-size:12px;
}

/* Dark-mode adaptation for alphabet buttons */
.theme-dark .terms__alpha-button { background: linear-gradient(180deg,#07245a,#05203f); border-color: rgba(255,255,255,0.04); }
.theme-dark .terms__alpha-button:hover { transform: translateY(-3px); box-shadow: 0 12px 30px rgba(2,16,70,0.28); }
.theme-dark .terms__alpha-button.open { background: linear-gradient(180deg,#0a3a7a,#07245a); border-color: rgba(255,255,255,0.08); box-shadow: 0 12px 32px rgba(2,16,70,0.32); }
.theme-dark .terms__alpha-letter { color: #ffffff }
.theme-dark .terms__alpha-count.badge { background: rgba(255,255,255,0.06); color: #ffffff }

@media (max-width: 768px) {
  .terms__alpha-button { min-width: 42px; height: 48px; padding: 6px 8px; }
  .terms__alpha-letter { font-size: 15px }
  .terms__alpha-count { font-size: 11px }
}

/* Let sections inherit theme colors */
.terms, .qb, .niiviewer, .studies { color: var(--fg); }
.terms * , .qb * , .niiviewer * , .studies * { color: inherit; }

.app__footer { margin-top:16px; color:var(--muted); font-size:12px; display:flex; gap:10px; align-items:center; border-top:1px solid var(--border); padding-top:12px; }

@media (max-width: 1023px) {
  .app { padding: 12px; }
  .app__grid { flex-direction: column; }
  .resizer { display: none; }
}


/* QueryBuilder fallback styles (when Tailwind classes are not present) */
.qb__input {
  /* Tech-style gradient + glow (override previous professional flat style) */
  --qb-tech-bg: linear-gradient(180deg,#0c1c3d 0%, #081326 100%);
  --qb-tech-bg-hover: linear-gradient(180deg,#11274f 0%, #0b182f 100%);
  --qb-tech-bg-active: linear-gradient(180deg,#0b182f 0%, #071020 100%);
  --qb-tech-border: rgba(80,140,255,0.55);
  --qb-tech-border-hover: rgba(110,170,255,0.8);
  --qb-tech-border-focus: #5a8bff;
  --qb-tech-text: #eaf2ff;
  --qb-tech-placeholder: #9ab3e6;
  width: 100%;
  max-width: 100%;
  display: block;
  padding: 11px 16px;
  border: 1px solid var(--qb-tech-border);
  background: var(--qb-tech-bg);
  color: var(--qb-tech-text);
  border-radius: 14px;
  outline: none;
  font-size: 14px;
  letter-spacing: .3px;
  /* Lightened shadow (reduced opacity/intensity) */
  /* Even softer, tighter shadow */
  box-shadow: inset 0 0 0 1px rgba(255,255,255,0.025), 0 4px 12px rgba(2,12,30,0.26);
  transition: box-shadow 180ms ease, border-color 160ms ease, background 220ms ease, filter 160ms ease;
  backdrop-filter: saturate(135%) blur(3px);
}

.qb__input:focus {
  border-color: var(--qb-tech-border-focus);
  /* Softer focus glow */
  box-shadow: 0 0 0 1.5px rgba(90,139,255,0.22), 0 6px 18px rgba(30,80,180,0.26);
  filter: brightness(1.05) saturate(1.1);
}
.qb__input:hover { background: var(--qb-tech-bg-hover); border-color: var(--qb-tech-border-hover); }
.qb__input:active { background: var(--qb-tech-bg-active); filter: saturate(1.25); }
.qb__input::placeholder { color: var(--qb-tech-placeholder); opacity:.9; }
.qb__input:disabled { opacity:.55; cursor:not-allowed; }

/* Light-mode variant (soft tech: airy gradient) */
@media (prefers-color-scheme: light) {
  .qb__input {
    --qb-tech-bg: linear-gradient(180deg,#f8fbff 0%, #eaf2ff 100%);
    --qb-tech-bg-hover: linear-gradient(180deg,#eef5ff 0%, #deeaff 100%);
    --qb-tech-bg-active: linear-gradient(180deg,#deeaff 0%, #d2e3ff 100%);
    --qb-tech-border: #93b5ff;
    --qb-tech-border-hover: #7aa4ff;
    --qb-tech-border-focus: #4d79ff;
    --qb-tech-text: #132036;
    --qb-tech-placeholder: #5b6b80;
  box-shadow: inset 0 0 0 1px rgba(0,0,0,0.015), 0 3px 9px rgba(0,50,120,0.05);
    backdrop-filter: none;
  }
  .qb__input:focus { box-shadow: 0 0 0 1.5px rgba(77,121,255,0.20), 0 6px 16px rgba(40,90,200,0.12); filter:none; }
}

/* Explicit dark theme override in case .theme-dark wrapper is used */
.theme-dark .qb__input {
  --qb-tech-bg: linear-gradient(180deg,#0a1429 0%, #071020 100%);
  --qb-tech-bg-hover: linear-gradient(180deg,#0f1f3e 0%, #0a162c 100%);
  --qb-tech-bg-active: linear-gradient(180deg,#0a162c 0%, #050a14 100%);
  --qb-tech-border: rgba(95,150,255,0.55);
  --qb-tech-border-hover: rgba(125,180,255,0.85);
  --qb-tech-border-focus: #5a8bff;
  --qb-tech-text: #eaf2ff;
  --qb-tech-placeholder: #89a9d6;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,0.03), 0 6px 18px rgba(2,16,40,0.36);
}
.theme-dark .qb__input:focus { box-shadow: 0 0 0 1.5px rgba(90,139,255,0.22), 0 7px 20px rgba(30,80,180,0.32); }
.theme-dark .qb__input:hover { background: var(--qb-tech-bg-hover); }

/* Remove native search field clear X (Safari) and decorations for cleaner tech look */
.qb__input::-webkit-search-decoration,
.qb__input::-webkit-search-cancel-button,
.qb__input::-webkit-search-results-button,
.qb__input::-webkit-search-results-decoration { display:none; }

/* Ensure legibility in sections that force black text */
.qb .qb__input,
.terms .qb__input {
  color: var(--qb-tech-text) !important;
}
.qb .qb__input::placeholder,
.terms .qb__input::placeholder {
  color: var(--qb-tech-placeholder) !important;
}


/* Ensure QueryBuilder input doesn't collapse too narrow */
.qb { width: 100%; }
.qb__input { width: 100%; min-width: 420px; }
@media (min-width: 1024px) {
  .qb__input { min-width: 640px; }
}

/* Deep brown button variant for operator and focus buttons */
.btn-brown {
  background: #4a2f1b !important;
  color: #f8ede2 !important;
  border: 1px solid #3d2614 !important;
  box-shadow: none !important;
}
.btn-brown:hover { background: #5a3a24 !important; color: #fff8ef !important; }
.btn-brown:active { background: #3d2614 !important; }

/* Increase specificity to beat generic .card button !important rules */
.card button.btn-brown,
.card .btn.btn-brown,
.card .operator-btn.btn-brown {
  background: #4a2f1b !important;
  color: #f8ede2 !important;
  border: 1px solid #3d2614 !important;
  box-shadow: none !important;
}
.card button.btn-brown:hover,
.card .btn.btn-brown:hover,
.card .operator-btn.btn-brown:hover { background: #5a3a24 !important; color: #fff8ef !important; }
.card button.btn-brown:active,
.card .btn.btn-brown:active,
.card .operator-btn.btn-brown:active { background: #3d2614 !important; }

/* Deep blue button variant (for Terms letter buttons) */
/* Unified button color = match dark background tone */
.btn-deepblue {
  background: #071025 !important; /* same as theme-dark --bg */
  color: #ffffff !important;
  border: 1px solid #0d1a3a !important; /* subtle outline */
  box-shadow: none !important;
}
.btn-deepblue:hover { background: #0a1733 !important; }
.btn-deepblue:active { background: #040a18 !important; }

/* Apply deep blue to Terms alphabet buttons specifically */
.terms .terms__alpha-button {
  background: #071025 !important;
  color: #ffffff !important;
  border: 1px solid #0d1a3a !important;
  box-shadow: none !important;
}
.terms .terms__alpha-button:hover { background: #0a1733 !important; }
.terms .terms__alpha-button:active { background: #040a18 !important; }
.terms .terms__alpha-letter { color: #ffffff !important; }
.terms .terms__alpha-count.badge { background: rgba(255,255,255,0.15) !important; color: #ffffff !important; }

/* Increase specificity for deep blue buttons inside cards and operator buttons */
.card button.btn-deepblue,
.card .btn.btn-deepblue,
.card .operator-btn.btn-deepblue {
  background: #071025 !important;
  color: #ffffff !important;
  border: 1px solid #0d1a3a !important;
  box-shadow: none !important;
}
.card button.btn-deepblue:hover,
.card .btn.btn-deepblue:hover,
.card .operator-btn.btn-deepblue:hover {
  background: #0a1733 !important;
  color: #ffffff !important;
  box-shadow: none !important;
  transform: none !important;
}
.card button.btn-deepblue:active,
.card .btn.btn-deepblue:active,
.card .operator-btn.btn-deepblue:active {
  background: #040a18 !important;
  transform: none !important;
}
